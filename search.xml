<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>YDpen的adb密码修改</title>
    <url>/2025/08/21/YDpen%E7%9A%84adb%E5%AF%86%E7%A0%81%E4%BF%AE%E6%94%B9/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>有道词典笔早期好像使用的是安卓系统，但后面出的笔都不是安卓系统，而是基于Linux的词典笔OS。故即使开启有道词典笔的ADB依然无法实现安装APK等功能，仅限折腾着玩玩罢了。</p>
<p><strong>⚠️ 操作有风险，玩机需谨慎</strong><br>因任何操作造成的包括但不限于变砖、炸App等损失作者均不承担任何责任，也没有义务帮你修复。如有侵权联系删除。</p>
<h2 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h2><p>有道词典笔一直都带有ADB开启入口，只需多次点击”法律监管”中的文本即可打开。</p>
<h2 id="破解方案"><a href="#破解方案" class="headerlink" title="破解方案"></a>破解方案</h2><p>本文采用大佬SkySight-666的方案加以改进，靠中间人攻击劫持更新请求从而替换更新包。</p>
<p><strong>参考链接：</strong></p>
<ul>
<li><a href="https://github.com/orgs/PenUniverse/discussions/250">https://github.com/orgs/PenUniverse/discussions/250</a></li>
<li><a href="https://github.com/orgs/PenUniverse/discussions/277">https://github.com/orgs/PenUniverse/discussions/277</a></li>
</ul>
<p><strong>本文用到的全部工具：</strong><br><a href="https://www.123684.com/s/sE1hjv-mklwd?%E6%8F%90%E5%8F%96%E7%A0%81:0m8B">https://www.123684.com/s/sE1hjv-mklwd?提取码:0m8B</a></p>
<h2 id="详细步骤"><a href="#详细步骤" class="headerlink" title="详细步骤"></a>详细步骤</h2><h3 id="首先，通过抓包抓取系统全量包"><a href="#首先，通过抓包抓取系统全量包" class="headerlink" title="首先，通过抓包抓取系统全量包"></a>首先，通过抓包抓取系统全量包</h3><p>使用词典笔连接电脑热点，启用wireshark对热点所在连接进行抓包，词典笔检查更新，在wireshark中找到post请求，抓到后可以停止抓包。</p>
<h3 id="重新发送更新请求，获取全量包链接"><a href="#重新发送更新请求，获取全量包链接" class="headerlink" title="重新发送更新请求，获取全量包链接"></a>重新发送更新请求，获取全量包链接</h3><p>找一个HTTP测试网站，这里我用的是SOJSON，将Header设置为，将你在获得的数据填入，发送如下请求：</p>
<p>请将以下JSON数据用于HTTP请求：</p>
<p>json<br>{<br>    “timestamp”: “这里你Wireshark获得的timestamp”,<br>    “sign”: “这里你Wireshark获得的sign”,<br>    “mid”: “这里你Wireshark获得的mid”,<br>    “productId”: “这里你Wireshark获得的productID”,<br>    “version”: “99.99.90”,<br>    “networkType”: “WIFI”<br>}</p>
<p>请求完毕我们会获得一个包含完整包链接的json</p>
<p>通过这个链接下载文件</p>
<p>**使用winhex替换md5值<br>    打开winhex并打开你的完整包img，开启搜索，搜索echo $PASSWD | md5sum<br>    千万注意，这里有一个网易挖的坑！！这边代码用的echo会在你输入密码之后加一个换行符 导致密码md5改变 最终校验失败<br>    这也是大部分升级成功却依旧密码错误的原因之一！因此我们需要想办法在自己的密码转为md5前也加上换行符。<br>    总之我们把带换行符一起转换的md5用来替换原img中的md5 然后保存文件</p>
<pre><code>注意：此时文件大小未发生改变 大小一个字节也没变！
</code></pre>
<p>**计算修改后的文件校验码</p>
<p>   编辑getnewmd5.py，使得segment_sizes数组中的值为前面抓包抓到的每一个endpos的值，有多少就加多少，<br>   每个机器值可能是不一样多的，然后在cmd中执行’python getnewmd5.py {修改后的img路径}’，并紧跟着执行’certutil -hashfile {修改后的img路径} md5’,<br>   随后我们会获得分片md5和整体md5</p>
<p>   还需要计算一个img的sha256值，我这边使用的是7zip 得到修改后的img的sha256值 留存备用</p>
<p>**搭建更新服务器</p>
<p>   首先自行安装nodejs 然后编辑YDPen.js，将”JsonData”的内容全部替换为前面抓包抓到的内容，<br>然后手动修改’segmentMd5’中每一个分块的md5值为前面计算得到的md5值，<br>并修改bakUrl和deltaUrl为”http:&#x2F;&#x2F;{本机局域网ip}:14514&#x2F;你修改的完整包.img”，随后修改’md5sum’为前面计算的完整img的md5，sha修改为计算的sha256值</p>
<pre><code>下拉到js下方部分，修改&#39;/product/1717746496/*********/ota/checkVersion&#39;为你自己抓到的请求url，保存文件。

开启两个cmd，一个执行&#39;python httpserver.py &#123;img路径&#125;&#39;，另一个执行&#39;node YDPen.js&#39;，同时修改一下host，把&#39;iotapi.abupdate.com&#39;劫持到本机ip，并执行ipconfig /flushdns来刷新dns 
</code></pre>
<p>**更新自定义固件</p>
<pre><code>在词典笔连接电脑热点的情况下检查更新，会检测到一个很大的更新包，直接更新即可
</code></pre>
<p>**获得adb权限，美美折腾</p>
<pre><code>更新完毕后，待设备重启，再次去法律监管里面连击打开adb，此时连接电脑执行adb shell auth并输入前面转换为md5的密码明文，回车，见证奇迹
</code></pre>
<p>**教程结束<br>   本文转载于bilibili听秋念大佬的文章<a href="https://www.bilibili.com/opus/1041644000127221764?spm_id_from=333.1387.0.0">https://www.bilibili.com/opus/1041644000127221764?spm_id_from=333.1387.0.0</a><br>   本文只是加以改进</p>
<p>**结束！</p>
]]></content>
      <categories>
        <category>技术教程</category>
      </categories>
      <tags>
        <tag>有道词典笔</tag>
        <tag>破解</tag>
        <tag>ADB</tag>
        <tag>教程</tag>
        <tag>科技</tag>
      </tags>
  </entry>
  <entry>
    <title>hexo命令</title>
    <url>/2025/08/21/hexo%E5%91%BD%E4%BB%A4/</url>
    <content><![CDATA[<!-- 文章正文开头... -->

<span id="more"></span>
<pre><code>
</code></pre>
]]></content>
      <categories>
        <category>命令</category>
      </categories>
      <tags>
        <tag>部署 命令</tag>
      </tags>
  </entry>
  <entry>
    <title>miniapp</title>
    <url>/2025/08/21/miniapp/</url>
    <content><![CDATA[<p>*有道词典笔miniapp安装</p>
<p>**1.安装工具</p>
<p>摆烂中…</p>
]]></content>
      <categories>
        <category>技术教程</category>
      </categories>
      <tags>
        <tag>有道词典笔</tag>
        <tag>破解</tag>
        <tag>ADB</tag>
        <tag>教程</tag>
        <tag>科技</tag>
      </tags>
  </entry>
</search>
